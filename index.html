<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anubis Messenger</title>
    <style>
        :root {
            --primary: #7289da;
            --primary-dark: #5b6eae;
            --background-primary: #36393f;
            --background-secondary: #2f3136;
            --background-tertiary: #202225;
            --background-accent: #40444b;
            --text-primary: #ffffff;
            --text-secondary: #b9bbbe;
            --text-muted: #72767d;
            --success: #3ba55c;
            --danger: #ed4245;
            --warning: #faa81a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--background-primary);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }

        /* –ó–∞–≥—Ä—É–∑—á–∏–∫ */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #333;
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        }

        .auth-box {
            background: var(--background-secondary);
            border-radius: 8px;
            padding: 40px;
            width: 90%;
            max-width: 480px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-header h1 {
            font-size: 32px;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 24px;
            border-bottom: 1px solid var(--background-tertiary);
        }

        .tab-btn {
            flex: 1;
            padding: 12px;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .tab-btn.active {
            color: var(--text-primary);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
            border-radius: 3px 3px 0 0;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            background: var(--background-tertiary);
            border: 1px solid var(--background-accent);
            border-radius: 4px;
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.2s;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .input-with-check {
            position: relative;
        }

        .check-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .check-icon.available::before {
            content: '‚úì';
            color: var(--success);
        }

        .check-icon.taken::before {
            content: '‚úó';
            color: var(--danger);
        }

        .hint {
            font-size: 12px;
            margin-top: 4px;
            min-height: 16px;
        }

        .hint.valid {
            color: var(--success);
        }

        .hint.invalid {
            color: var(--danger);
        }

        .btn-primary {
            width: 100%;
            padding: 14px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            margin-top: 10px;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-primary:disabled {
            background: var(--text-muted);
            cursor: not-allowed;
        }

        .auth-links {
            text-align: center;
            margin-top: 20px;
        }

        .auth-links a {
            color: var(--primary);
            text-decoration: none;
            font-size: 14px;
        }

        .auth-links a:hover {
            text-decoration: underline;
        }

        .terms {
            font-size: 12px;
            color: var(--text-muted);
            text-align: center;
            margin-top: 20px;
        }

        .terms a {
            color: var(--primary);
            text-decoration: none;
        }

        .demo-accounts {
            margin-top: 30px;
            padding: 15px;
            background: var(--background-tertiary);
            border-radius: 4px;
            border-left: 4px solid var(--primary);
        }

        .demo-accounts p {
            margin-bottom: 10px;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .demo-account {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .demo-account span {
            color: var(--text-muted);
        }

        .demo-account code {
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ */
        .app-container {
            display: none;
            height: 100vh;
        }

        .servers-sidebar {
            width: 72px;
            background: var(--background-tertiary);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 0;
            overflow-y: auto;
        }

        .server-item {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--background-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .server-item:hover {
            border-radius: 16px;
            background: var(--primary);
        }

        .server-item.active {
            border-radius: 16px;
            background: var(--primary);
        }

        .server-item.add-server {
            background: var(--success);
        }

        .server-item.add-server:hover {
            background: #2d7d46;
        }

        .server-icon {
            font-size: 20px;
            color: white;
        }

        .server-tooltip {
            position: absolute;
            left: 60px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            z-index: 1000;
        }

        .server-item:hover .server-tooltip {
            opacity: 1;
        }

        .server-divider {
            width: 32px;
            height: 2px;
            background: var(--background-primary);
            margin: 8px 0;
        }

        .channels-sidebar {
            width: 240px;
            background: var(--background-secondary);
            display: flex;
            flex-direction: column;
        }

        .server-header {
            padding: 16px;
            border-bottom: 1px solid var(--background-tertiary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .server-header h2 {
            font-size: 16px;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .icon-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            font-size: 18px;
        }

        .icon-btn:hover {
            color: var(--text-primary);
            background: var(--background-accent);
        }

        .channels-section {
            padding: 16px;
            flex: 1;
            overflow-y: auto;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            color: var(--text-muted);
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .add-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 18px;
            padding: 0;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-btn:hover {
            color: var(--text-primary);
        }

        .channels-list {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .channel-item {
            padding: 6px 8px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .channel-item:hover {
            background: var(--background-accent);
            color: var(--text-primary);
        }

        .channel-item.active {
            background: var(--background-accent);
            color: var(--text-primary);
        }

        .user-panel {
            padding: 12px;
            background: var(--background-tertiary);
            border-top: 1px solid var(--background-primary);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: background 0.2s;
        }

        .user-info:hover {
            background: var(--background-accent);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            flex-shrink: 0;
        }

        .user-details {
            min-width: 0;
        }

        .username {
            font-weight: 600;
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .user-status {
            font-size: 12px;
            color: var(--success);
        }

        .user-controls {
            display: flex;
            gap: 4px;
        }

        .control-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 6px;
            border-radius: 4px;
            font-size: 16px;
        }

        .control-btn:hover {
            color: var(--text-primary);
            background: var(--background-accent);
        }

        .main-chat {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--background-primary);
        }

        .chat-header {
            padding: 16px;
            border-bottom: 1px solid var(--background-tertiary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .channel-header {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .channel-header i {
            color: var(--text-muted);
            font-size: 20px;
        }

        .channel-header span {
            font-weight: 600;
            font-size: 16px;
        }

        .channel-topic {
            color: var(--text-muted);
            font-size: 14px;
            margin-left: 12px;
            font-style: italic;
        }

        .chat-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .action-btn:hover {
            color: var(--text-primary);
            background: var(--background-accent);
        }

        .online-count {
            background: var(--danger);
            color: white;
            font-size: 12px;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 20px;
            text-align: center;
        }

        .messages-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .welcome-message {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
        }

        .welcome-message h1 {
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .message {
            display: flex;
            gap: 16px;
            padding: 4px 0;
        }

        .message:hover {
            background: rgba(79, 84, 92, 0.1);
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .message-content {
            flex: 1;
        }

        .message-header {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin-bottom: 4px;
        }

        .message-author {
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
        }

        .message-author:hover {
            text-decoration: underline;
        }

        .message-time {
            color: var(--text-muted);
            font-size: 12px;
        }

        .message-text {
            font-size: 15px;
            line-height: 1.4;
            word-wrap: break-word;
        }

        .message-input-container {
            padding: 16px;
            background: var(--background-primary);
            border-top: 1px solid var(--background-tertiary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .input-tools {
            display: flex;
            gap: 4px;
        }

        .tool-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
            font-size: 18px;
        }

        .tool-btn:hover {
            color: var(--text-primary);
            background: var(--background-accent);
        }

        .message-input-wrapper {
            flex: 1;
            background: var(--background-tertiary);
            border-radius: 8px;
            padding: 2px;
        }

        #message-input {
            width: 100%;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 15px;
            padding: 10px;
            resize: none;
            max-height: 200px;
            min-height: 20px;
            line-height: 1.4;
            outline: none;
        }

        .send-btn {
            background: var(--primary);
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .send-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        .members-sidebar {
            width: 240px;
            background: var(--background-secondary);
            border-left: 1px solid var(--background-tertiary);
            padding: 16px;
            overflow-y: auto;
        }

        .members-header {
            margin-bottom: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .members-header h3 {
            color: var(--text-muted);
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .members-header span {
            color: var(--text-secondary);
            font-size: 12px;
        }

        .member-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 2px;
            transition: background 0.2s;
        }

        .member-item:hover {
            background: var(--background-accent);
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notifications-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 9999;
        }

        .notification {
            background: var(--background-secondary);
            border: 1px solid var(--background-tertiary);
            border-radius: 8px;
            padding: 16px;
            min-width: 300px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            animation: slideInRight 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .notification-message {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .notification-close {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 20px;
            padding: 4px;
        }

        /* –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--background-tertiary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--background-accent);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1200px) {
            .members-sidebar {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑—á–∏–∫ -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div class="auth-container" id="auth-container">
        <div class="auth-box">
            <div class="auth-header">
                <h1>ìÉ£ Anubis</h1>
                <p class="subtitle">–ë—ã—Å—Ç—Ä—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</p>
            </div>
            
            <div class="auth-tabs">
                <button class="tab-btn active" id="login-tab">–í—Ö–æ–¥</button>
                <button class="tab-btn" id="register-tab">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
            
            <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
            <form id="login-form" class="auth-form active">
                <div class="form-group">
                    <label for="login-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" id="login-username" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫" required>
                </div>
                
                <div class="form-group">
                    <label for="login-password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="login-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                </div>
                
                <button type="submit" class="btn-primary">–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</button>
            </form>
            
            <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
            <form id="register-form" class="auth-form">
                <div class="form-group">
                    <label for="register-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <div class="input-with-check">
                        <input type="text" id="register-username" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∏–∫ (3-20 —Å–∏–º–≤–æ–ª–æ–≤)" required>
                        <div class="check-icon" id="username-check"></div>
                    </div>
                    <div class="hint" id="username-hint">–¢–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, _ –∏ -</div>
                </div>
                
                <div class="form-group">
                    <label for="register-password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="register-password" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" required>
                </div>
                
                <div class="form-group">
                    <label for="register-confirm">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="register-confirm" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                    <div class="hint" id="confirm-hint"></div>
                </div>
                
                <button type="submit" class="btn-primary" id="register-btn">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
            </form>
            
            <div class="demo-accounts">
                <p>–î–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∞:</p>
                <div class="demo-account">
                    <span>–õ–æ–≥–∏–Ω:</span> <code>test</code>
                    <span>–ü–∞—Ä–æ–ª—å:</span> <code>123456</code>
                </div>
                <div class="demo-account">
                    <span>–õ–æ–≥–∏–Ω:</span> <code>user</code>
                    <span>–ü–∞—Ä–æ–ª—å:</span> <code>password</code>
                </div>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div class="app-container" id="app-container">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–µ—Ä–≤–µ—Ä–æ–≤ -->
        <div class="servers-sidebar">
            <div class="server-item active" onclick="switchServer('home')">
                <div class="server-icon">üè†</div>
                <div class="server-tooltip">–ì–ª–∞–≤–Ω–∞—è</div>
            </div>
            
            <div class="server-divider"></div>
            
            <div class="servers-list" id="servers-list">
                <!-- –°–µ—Ä–≤–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
            
            <div class="server-item add-server" onclick="showCreateServerModal()">
                <div class="server-icon">+</div>
                <div class="server-tooltip">–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</div>
            </div>
        </div>
        
        <!-- –ü–∞–Ω–µ–ª—å –∫–∞–Ω–∞–ª–æ–≤ -->
        <div class="channels-sidebar">
            <div class="server-header">
                <h2 id="server-name">Anubis Messenger</h2>
                <div class="server-actions">
                    <button class="icon-btn" onclick="showInviteModal()">üë•</button>
                </div>
            </div>
            
            <div class="channels-section">
                <div class="section-header">
                    <span>–¢–ï–ö–°–¢–û–í–´–ï –ö–ê–ù–ê–õ–´</span>
                    <button class="add-btn" onclick="createTextChannel()">+</button>
                </div>
                <div class="channels-list" id="text-channels">
                    <div class="channel-item active" onclick="switchChannel('general')">
                        <span>#</span> general
                    </div>
                    <div class="channel-item" onclick="switchChannel('chat')">
                        <span>#</span> chat
                    </div>
                </div>
            </div>
            
            <div class="user-panel">
                <div class="user-info" onclick="showProfileModal()">
                    <div class="user-avatar" id="user-avatar">U</div>
                    <div class="user-details">
                        <div class="username" id="current-username">–ì–æ—Å—Ç—å</div>
                        <div class="user-status" id="user-status">–û–Ω–ª–∞–π–Ω</div>
                    </div>
                </div>
                <div class="user-controls">
                    <button class="control-btn" onclick="toggleMute()">üé§</button>
                    <button class="control-btn" onclick="toggleDeafen()">üéß</button>
                    <button class="control-btn" onclick="showSettings()">‚öô</button>
                </div>
            </div>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
        <div class="main-chat">
            <div class="chat-header">
                <div class="channel-header">
                    <span>#</span>
                    <span id="current-channel">general</span>
                    <div class="channel-topic" id="channel-topic">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</div>
                </div>
                <div class="chat-actions">
                    <button class="action-btn" onclick="showMembers()">
                        üë• <span class="online-count" id="online-count">0</span>
                    </button>
                    <button class="action-btn" onclick="showPinned()">üìå</button>
                    <button class="action-btn" onclick="searchMessages()">üîç</button>
                </div>
            </div>
            
            <div class="messages-container" id="messages-container">
                <div class="welcome-message">
                    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Anubis!</h1>
                    <p>–≠—Ç–æ –Ω–∞—á–∞–ª–æ –∫–∞–Ω–∞–ª–∞ <strong>#general</strong></p>
                    <p>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ</p>
                </div>
            </div>
            
            <div class="message-input-container">
                <div class="input-tools">
                    <button class="tool-btn" onclick="addEmoji()">üòä</button>
                    <button class="tool-btn" onclick="attachFile()">üìé</button>
                </div>
                <div class="message-input-wrapper">
                    <textarea 
                        id="message-input" 
                        placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
                        rows="1"
                        onkeydown="handleInputKeydown(event)"
                    ></textarea>
                </div>
                <button class="send-btn" onclick="sendMessage()" id="send-btn">‚û§</button>
            </div>
        </div>
        
        <!-- –ü–∞–Ω–µ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
        <div class="members-sidebar">
            <div class="members-header">
                <h3>–£–ß–ê–°–¢–ù–ò–ö–ò</h3>
                <span id="members-count">1</span>
            </div>
            <div class="members-list" id="members-list">
                <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notifications-container" id="notifications-container"></div>

    <script>
        // ==================== –•–†–ê–ù–ò–õ–ò–©–ï –î–ê–ù–ù–´–• ====================
        class Storage {
            static getUsers() {
                const users = localStorage.getItem('anubis_users');
                return users ? JSON.parse(users) : [
                    { username: 'test', password: '123456', displayName: 'Test User' },
                    { username: 'user', password: 'password', displayName: 'Regular User' }
                ];
            }

            static saveUsers(users) {
                localStorage.setItem('anubis_users', JSON.stringify(users));
            }

            static getMessages() {
                const messages = localStorage.getItem('anubis_messages');
                return messages ? JSON.parse(messages) : {
                    'general': [
                        { id: 1, username: 'system', content: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Anubis Messenger!', timestamp: Date.now() - 3600000 },
                        { id: 2, username: 'system', content: '–ù–∞—á–Ω–∏—Ç–µ –æ–±—â–µ–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∏–∂–µ', timestamp: Date.now() - 1800000 }
                    ],
                    'chat': [
                        { id: 1, username: 'system', content: '–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª –¥–ª—è –æ–±—â–µ–Ω–∏—è', timestamp: Date.now() - 3600000 }
                    ]
                };
            }

            static saveMessages(messages) {
                localStorage.setItem('anubis_messages', JSON.stringify(messages));
            }

            static getServers() {
                const servers = localStorage.getItem('anubis_servers');
                return servers ? JSON.parse(servers) : {};
            }

            static saveServers(servers) {
                localStorage.setItem('anubis_servers', JSON.stringify(servers));
            }

            static getCurrentUser() {
                return JSON.parse(localStorage.getItem('anubis_current_user'));
            }

            static setCurrentUser(user) {
                localStorage.setItem('anubis_current_user', JSON.stringify(user));
            }

            static clearCurrentUser() {
                localStorage.removeItem('anubis_current_user');
            }
        }

        // ==================== –°–û–°–¢–û–Ø–ù–ò–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ====================
        let state = {
            currentUser: null,
            currentChannel: 'general',
            messages: Storage.getMessages(),
            servers: Storage.getServers(),
            users: Storage.getUsers()
        };

        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.getElementById('loader').style.display = 'none';
            }, 1000);

            checkAuthState();
            setupEventListeners();
            setupRegistrationValidation();
        });

        function checkAuthState() {
            const user = Storage.getCurrentUser();
            if (user) {
                state.currentUser = user;
                showApp();
                loadInitialData();
            } else {
                showAuth();
            }
        }

        // ==================== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–ë–´–¢–ò–ô ====================
        function setupEventListeners() {
            const loginTab = document.getElementById('login-tab');
            const registerTab = document.getElementById('register-tab');
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');

            if (loginTab && registerTab) {
                loginTab.addEventListener('click', () => switchAuthTab('login'));
                registerTab.addEventListener('click', () => switchAuthTab('register'));
            }

            if (loginForm) {
                loginForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    await handleLogin();
                });
            }

            if (registerForm) {
                registerForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    await handleRegister();
                });
            }
        }

        // ==================== –í–ê–õ–ò–î–ê–¶–ò–Ø –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò ====================
        function setupRegistrationValidation() {
            const usernameInput = document.getElementById('register-username');
            const passwordInput = document.getElementById('register-password');
            const confirmInput = document.getElementById('register-confirm');
            const usernameCheck = document.getElementById('username-check');
            const usernameHint = document.getElementById('username-hint');
            const confirmHint = document.getElementById('confirm-hint');
            const registerBtn = document.getElementById('register-btn');

            if (!usernameInput || !registerBtn) return;

            let usernameValid = false;
            let passwordValid = false;
            let confirmValid = false;

            usernameInput.addEventListener('input', () => {
                const username = usernameInput.value.trim();
                
                if (username.length < 3) {
                    usernameCheck.className = 'check-icon';
                    usernameHint.className = 'hint invalid';
                    usernameHint.textContent = '–ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞';
                    usernameValid = false;
                    updateRegisterButton();
                    return;
                }

                if (username.length > 20) {
                    usernameCheck.className = 'check-icon taken';
                    usernameHint.className = 'hint invalid';
                    usernameHint.textContent = '–ú–∞–∫—Å–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤';
                    usernameValid = false;
                    updateRegisterButton();
                    return;
                }

                const validChars = /^[a-zA-Z0-9_-]+$/;
                if (!validChars.test(username)) {
                    usernameCheck.className = 'check-icon taken';
                    usernameHint.className = 'hint invalid';
                    usernameHint.textContent = '–¢–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, _ –∏ -';
                    usernameValid = false;
                    updateRegisterButton();
                    return;
                }

                const exists = state.users.some(u => u.username === username);
                if (exists) {
                    usernameCheck.className = 'check-icon taken';
                    usernameHint.className = 'hint invalid';
                    usernameHint.textContent = '–ù–∏–∫ —É–∂–µ –∑–∞–Ω—è—Ç';
                    usernameValid = false;
                } else {
                    usernameCheck.className = 'check-icon available';
                    usernameHint.className = 'hint valid';
                    usernameHint.textContent = '–ù–∏–∫ —Å–≤–æ–±–æ–¥–µ–Ω';
                    usernameValid = true;
                }

                updateRegisterButton();
            });

            passwordInput.addEventListener('input', () => {
                const password = passwordInput.value;
                passwordValid = password.length >= 6;
                updateRegisterButton();

                if (confirmInput.value) {
                    validatePasswordMatch();
                }
            });

            confirmInput.addEventListener('input', validatePasswordMatch);

            function validatePasswordMatch() {
                const password = passwordInput.value;
                const confirm = confirmInput.value;

                if (!confirm) {
                    confirmHint.className = 'hint';
                    confirmHint.textContent = '';
                    confirmValid = false;
                    updateRegisterButton();
                    return;
                }

                if (password === confirm) {
                    confirmHint.className = 'hint valid';
                    confirmHint.textContent = '–ü–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
                    confirmValid = true;
                } else {
                    confirmHint.className = 'hint invalid';
                    confirmHint.textContent = '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
                    confirmValid = false;
                }

                updateRegisterButton();
            }

            function updateRegisterButton() {
                if (registerBtn) {
                    registerBtn.disabled = !(usernameValid && passwordValid && confirmValid);
                }
            }
        }

        // ==================== –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø ====================
        function switchAuthTab(tab) {
            const loginTab = document.getElementById('login-tab');
            const registerTab = document.getElementById('register-tab');
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');

            if (loginTab && registerTab && loginForm && registerForm) {
                loginTab.classList.remove('active');
                registerTab.classList.remove('active');
                loginForm.classList.remove('active');
                registerForm.classList.remove('active');

                if (tab === 'login') {
                    loginTab.classList.add('active');
                    loginForm.classList.add('active');
                } else {
                    registerTab.classList.add('active');
                    registerForm.classList.add('active');
                }
            }
        }

        async function handleLogin() {
            const usernameInput = document.getElementById('login-username');
            const passwordInput = document.getElementById('login-password');

            if (!usernameInput || !passwordInput) return;

            const username = usernameInput.value.trim();
            const password = passwordInput.value;

            if (!username || !password) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
                return;
            }

            const user = state.users.find(u => 
                u.username === username && u.password === password
            );

            if (user) {
                state.currentUser = {
                    username: user.username,
                    displayName: user.displayName || user.username
                };
                
                Storage.setCurrentUser(state.currentUser);
                showNotification('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!', 'success');
                showApp();
                loadInitialData();
            } else {
                showNotification('–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å', 'error');
            }
        }

        async function handleRegister() {
            const usernameInput = document.getElementById('register-username');
            const passwordInput = document.getElementById('register-password');

            if (!usernameInput || !passwordInput) return;

            const username = usernameInput.value.trim();
            const password = passwordInput.value;

            if (!username || !password) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
                return;
            }

            if (username.length < 3 || username.length > 20) {
                showNotification('–ù–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 3 –¥–æ 20 —Å–∏–º–≤–æ–ª–æ–≤', 'error');
                return;
            }

            const validChars = /^[a-zA-Z0-9_-]+$/;
            if (!validChars.test(username)) {
                showNotification('–¢–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, _ –∏ -', 'error');
                return;
            }

            if (password.length < 6) {
                showNotification('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤', 'error');
                return;
            }

            const exists = state.users.some(u => u.username === username);
            if (exists) {
                showNotification('–≠—Ç–æ—Ç –Ω–∏–∫ —É–∂–µ –∑–∞–Ω—è—Ç', 'error');
                return;
            }

            const newUser = {
                username: username,
                password: password,
                displayName: username
            };

            state.users.push(newUser);
            Storage.saveUsers(state.users);

            state.currentUser = {
                username: username,
                displayName: username
            };

            Storage.setCurrentUser(state.currentUser);
            
            showNotification('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!', 'success');
            
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('register-form').reset();
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            showApp();
            loadInitialData();
        }

        // ==================== –û–°–ù–û–í–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï ====================
        function showAuth() {
            const authContainer = document.getElementById('auth-container');
            const appContainer = document.getElementById('app-container');
            
            if (authContainer && appContainer) {
                authContainer.style.display = 'flex';
                appContainer.style.display = 'none';
            }
            
            switchAuthTab('login');
        }

        function showApp() {
            const authContainer = document.getElementById('auth-container');
            const appContainer = document.getElementById('app-container');
            
            if (authContainer && appContainer) {
                authContainer.style.display = 'none';
                appContainer.style.display = 'flex';
            }
            
            // –§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞
            setTimeout(() => {
                const messageInput = document.getElementById('message-input');
                if (messageInput) {
                    messageInput.focus();
                }
            }, 100);
        }

        function loadInitialData() {
            updateUserUI();
            renderMessages();
            renderMembers();
        }

        function updateUserUI() {
            const usernameElement = document.getElementById('current-username');
            const avatarElement = document.getElementById('user-avatar');
            
            if (state.currentUser && usernameElement && avatarElement) {
                usernameElement.textContent = state.currentUser.displayName;
                avatarElement.textContent = state.currentUser.displayName.charAt(0).toUpperCase();
                avatarElement.style.background = '#7289da';
            }
        }

        // ==================== –°–û–û–ë–©–ï–ù–ò–Ø ====================
        function renderMessages() {
            const container = document.getElementById('messages-container');
            if (!container) return;

            const channelMessages = state.messages[state.currentChannel] || [];
            
            if (channelMessages.length === 0) {
                container.innerHTML = `
                    <div class="welcome-message">
                        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ #${state.currentChannel}!</h1>
                        <p>–≠—Ç–æ –Ω–∞—á–∞–ª–æ –∫–∞–Ω–∞–ª–∞. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = '';
            
            channelMessages.forEach(message => {
                const messageElement = createMessageElement(message);
                container.appendChild(messageElement);
            });

            container.scrollTop = container.scrollHeight;
        }

        function createMessageElement(message) {
            const element = document.createElement('div');
            element.className = 'message';
            
            const time = new Date(message.timestamp).toLocaleTimeString('ru-RU', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            
            const firstLetter = message.username.charAt(0).toUpperCase();
            
            element.innerHTML = `
                <div class="message-avatar">${firstLetter}</div>
                <div class="message-content">
                    <div class="message-header">
                        <span class="message-author">${message.username}</span>
                        <span class="message-time">${time}</span>
                    </div>
                    <div class="message-text">${escapeHtml(message.content)}</div>
                </div>
            `;
            
            return element;
        }

        function sendMessage() {
            const input = document.getElementById('message-input');
            if (!input || !state.currentUser) return;
            
            const content = input.value.trim();
            if (!content) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            if (!state.messages[state.currentChannel]) {
                state.messages[state.currentChannel] = [];
            }
            
            const newMessage = {
                id: Date.now(),
                username: state.currentUser.username,
                content: content,
                timestamp: Date.now()
            };
            
            state.messages[state.currentChannel].push(newMessage);
            Storage.saveMessages(state.messages);
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
            input.value = '';
            input.style.height = 'auto';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            renderMessages();
            
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
            playMessageSound();
        }

        function handleInputKeydown(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞ textarea
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight) + 'px';
        }

        // ==================== –ö–ê–ù–ê–õ–´ ====================
        function switchChannel(channelName) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–Ω–∞–ª
            document.querySelectorAll('.channel-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // –ù–∞—Ö–æ–¥–∏–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º —Ç–µ–∫—É—â–∏–π –∫–∞–Ω–∞–ª
            const channelItems = document.querySelectorAll('.channel-item');
            for (let item of channelItems) {
                if (item.textContent.includes(channelName)) {
                    item.classList.add('active');
                    break;
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            state.currentChannel = channelName;
            const channelElement = document.getElementById('current-channel');
            if (channelElement) {
                channelElement.textContent = channelName;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞
            renderMessages();
        }

        // ==================== –£–ß–ê–°–¢–ù–ò–ö–ò ====================
        function renderMembers() {
            const membersList = document.getElementById('members-list');
            const membersCount = document.getElementById('members-count');
            const onlineCount = document.getElementById('online-count');
            
            if (!membersList) return;
            
            membersList.innerHTML = '';
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if (state.currentUser) {
                const memberElement = document.createElement('div');
                memberElement.className = 'member-item';
                memberElement.innerHTML = `
                    <div class="user-avatar">${state.currentUser.displayName.charAt(0).toUpperCase()}</div>
                    <div class="username">${state.currentUser.displayName} (–í—ã)</div>
                `;
                membersList.appendChild(memberElement);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
            if (membersCount) {
                membersCount.textContent = '1';
            }
            
            if (onlineCount) {
                onlineCount.textContent = '1';
            }
        }

        // ==================== –£–¢–ò–õ–ò–¢–´ ====================
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notifications-container');
            if (!container) return;
            
            const notification = document.createElement('div');
            notification.className = 'notification';
            
            const icons = {
                success: '‚úì',
                error: '‚úó',
                info: '‚Ñπ',
                warning: '‚ö†'
            };
            
            notification.innerHTML = `
                <div class="notification-icon" style="background-color: ${type === 'success' ? '#3ba55c' : type === 'error' ? '#ed4245' : '#7289da'}">
                    ${icons[type] || icons.info}
                </div>
                <div class="notification-content">
                    <div class="notification-title">${type === 'success' ? '–£—Å–ø–µ—à–Ω–æ' : type === 'error' ? '–û—à–∏–±–∫–∞' : '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ'}</div>
                    <div class="notification-message">${message}</div>
                </div>
                <button class="notification-close" onclick="this.parentElement.remove()">&times;</button>
            `;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        function playMessageSound() {
            try {
                const audio = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3');
                audio.volume = 0.3;
                audio.play().catch(() => {});
            } catch (error) {
                console.log('Sound error:', error);
            }
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML.replace(/\n/g, '<br>');
        }

        // ==================== –≠–ö–°–ü–û–†–¢ –§–£–ù–ö–¶–ò–ô ====================
        window.switchServer = function(server) {
            showNotification(`–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä: ${server}`, 'info');
        };

        window.showCreateServerModal = function() {
            showNotification('–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞', 'info');
        };

        window.createServer = function() {
            showNotification('–°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–Ω!', 'success');
        };

        window.closeModal = function() {
            showNotification('–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ', 'info');
        };

        window.showProfileModal = function() {
            if (!state.currentUser) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É', 'error');
                return;
            }
            showNotification('–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', 'info');
        };

        window.updateProfile = function() {
            showNotification('–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω', 'success');
        };

        window.logout = function() {
            Storage.clearCurrentUser();
            state.currentUser = null;
            showNotification('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'info');
            showAuth();
        };

        window.toggleMute = function() {
            showNotification('–ú–∏–∫—Ä–æ—Ñ–æ–Ω –æ—Ç–∫–ª—é—á–µ–Ω', 'info');
        };

        window.toggleDeafen = function() {
            showNotification('–ó–≤—É–∫ –æ—Ç–∫–ª—é—á–µ–Ω', 'info');
        };

        window.showSettings = function() {
            showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏', 'info');
        };

        window.createTextChannel = function() {
            showNotification('–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞', 'info');
        };

        window.createVoiceChannel = function() {
            showNotification('–°–æ–∑–¥–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞', 'info');
        };

        window.showInviteModal = function() {
            showNotification('–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', 'info');
        };

        window.showMembers = function() {
            showNotification('–°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', 'info');
        };

        window.showPinned = function() {
            showNotification('–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è', 'info');
        };

        window.searchMessages = function() {
            showNotification('–ü–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π', 'info');
        };

        window.addEmoji = function() {
            const input = document.getElementById('message-input');
            if (input) {
                input.value += ' üòä ';
                input.focus();
            }
        };

        window.attachFile = function() {
            showNotification('–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞', 'info');
        };

        window.sendMessage = sendMessage;
        window.handleInputKeydown = handleInputKeydown;
        window.switchChannel = switchChannel;
    </script>
</body>
</html>
